{"ts":1346210936545,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"function main(){\n\nvar myPuzzle = new samplePuzzle();\ndrawTable(myPuzzle);\n\n\n}\n\nfunction playerField(puzzle){\n    var playerfield = new Array(puzzle.data.length);\n    for (var c = 0; c < playerfield.length;c++)\n    {\n        playerfield[c] = 0;\n    }\n    return playerfield;\n}\n\nfunction Puzzle(indata){\n    var puzzle = new Object();\n\tpuzzle.title = indata[0];\n\tpuzzle.author = indata[1];\n\tpuzzle.width = indata[2];\n\tpuzzle.height = indata[3];\n\tpuzzle.data = new Array(indata.length-4);\n\tvar i = 4;\n\tfor (var x=0;x < puzzle.data.length; x++){\n\t\tpuzzle.data[x] = indata[i];\n\t\ti++;\n\t}\n\treturn puzzle;\n}\n\nfunction param( name )\n{\n  name = name.replace(/[\\[]/,\"\\\\\\[\").replace(/[\\]]/,\"\\\\\\]\");\n  var regexS = \"[\\\\?&]\"+name+\"=([^&#]*)\";\n  var regex = new RegExp( regexS );\n  var results = regex.exec( window.location.href );\n  if( results === null )\n    return \"\";\n  else\n    return results[1];\n}\n\n\nfunction samplePuzzle(){ //Generate a sample 5x5 puzzle\n\n\tvar sampledata = [\"Test Sample\",\"Matty\",5,5,1,1,1,1,1,1,0,1,0,1,1,0,0,0,1,1,0,1,0,1,1,1,1,1,1];\n    return (new Puzzle(sampledata));\n}\n\nfunction calcrowInfo(puzzle){\n    var rowInfos = new Array(puzzle.height);\n    var t = 0;\n    var streak = true;\n    var cur = '';\n\n    for(var c=0;c < puzzle.height;c++){\n\n        for(var d=c;d < puzzle.data.length;d += puzzle.width){\n\n            if(puzzle.data[d]== 1){\n                t++;\n                streak = true;\n            }\n            if(puzzle.data[d]=== 0){\n                streak = false;\n            }\n            if ((!streak && puzzle.data[d] == 1) || (d + puzzle.width) >= puzzle.data.length){\n                cur +=  ' ' + t;\n                t = 0;\n                streak = false;\n            }\n\n\n        }\n         if (cur === ''){\n                 cur = '0';\n            }\n\n        rowInfos[c] = cur;\n        cur = '';\n\n\n    }\n\n    alert(rowInfos[0]);\nreturn rowInfos;\n\n}\n\nfunction tileClick(cell_num){\n    cell = document.getElementById(puzz+cell_num);\n\n    cell.setAttribute('class','marked');\n\n\n\n}\n\nfunction drawTable(puzzle){\n\n\n    var temp = document.getElementById('titlefield');\n    temp.appendChild(document.createTextNode(puzzle.title));\n    temp = document.getElementById('authorfield');\n    temp.appendChild(document.createTextNode('by ' + puzzle.author));\n\n\tvar cellcount = 0;\n\nvar row=new Array();\nvar cell=new Array();\n\nvar row_num=puzzle.height;\nvar cell_num=puzzle.width;\n\nvar tab = document.createElement('table');\ntab.setAttribute('id','puzzletable');\nvar tbo = document.createElement('tbody');\n\nvar colInfo = document.createElement('tr');\ncolInfo.appendChild(document.createElement('td'));\nfor(var c=0;c<row_num;c++){\n\tcell[c]=document.createElement('td');\n\tcell[c].setAttribute('class','colInfo');\n\tcell[c].setAttribute('id','col' + c);\n\tcell[c].appendChild(document.createTextNode('colInfo'));\n    colInfo.appendChild(cell[c]);\n    }\ntbo.appendChild(colInfo);\n\n\nvar rowInfo;\nvar cont;\nrowInfos = calcrowInfo(puzzle);\n\nfor(c=0;c<row_num;c++){\n\trow[c]=document.createElement('tr');\n\trowInfo = document.createElement('td');\n    rowInfo.setAttribute('id','row' + c);\n\trowInfo.setAttribute('class','rowInfo');\n    rowInfo.appendChild(document.createTextNode(rowInfos[c]));\n    row[c].appendChild(rowInfo);\n\n\n\tfor(var k=0;k<cell_num;k++) {\n\t\tcell[k]=document.createElement('td');\n\t\tcont=document.createTextNode(puzzle.data[cellcount]);\n\t\tcell[k].setAttribute('id','puzz' + cellcount);\n        cell[k].setAttribute('onClick','tileClick('+cellcount+')');\n\t\tcell[k].setAttribute('class','puzzlecell');\n\t\tcell[k].appendChild(cont);\n\t\trow[c].appendChild(cell[k]);\n        cellcount++;\n\t\t}\n\ttbo.appendChild(row[c]);\n\t}\n\nvar field = document.getElementById('puzzlefield');\ntab.appendChild(tbo);\nfield.appendChild(tab);\n\n\n}"]],"start1":0,"start2":0,"length1":0,"length2":3741}]],"length":3741}
